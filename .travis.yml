language: python
dist: xenial
python:
- 3.7
- 3.6
- 3.5
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  on:
    python: 3.6
    repo: molssi-seamm/seamm_util
    tags: true
  user: seamm
  password:
    secure: dMONRr7xRx09LOnKUteCa3CY8aGy8XrLX4oAka70RqmycrdZk1fLO3Ykz1Hzw4psREoXWQjmU5C0UTXAfSgpO3PrZPxYHU7+Pnyfjy8gE8ssVHUv19dXlFazxZG0vfjDiKq5FLiIx96Va2OnNDrcL5RfP3MXHamwqJkds8+w+nF0BEQ5Oa/WODAGIBYLYv08rpyBk9tYDX5uMliABgnraalHgPpoVVJEdOBIlpTgKUP2CCd+iaJQquHwJka3BEQ/PbGbQq0Rh5uWfNLEKZHQ53LPpqfTLhF9sR1ewXCQaFHIupDcmIGjavogk05lIcTgti7gF++Lv9xHZeakQF90d/jphhRu9DM2rS84MESm/LhgfqYJRk3P/6XrSUx4zxNV54cKOwdttGBUU+Ei102Rmh9f62Loc2uMNsGVes+kOshX2P9qiqUlGpV1Y8zbOuipscMFIJTnKHOkN2pLctNm+Qewa9VZjnC4ZVa39ssmmseEfJG906CfsCARVQ7Wf/uEIAn0nr07j6im4fql3fOEdKoAeUDvjX/o2K4lUR85ikbKFiiaz9XeyXmLbtgZC5/FIhgCA5dJtjgTrpsuYnEcACz++28+vWZKdYX89ohhD5mgZBVtc6XiXtD9oQp3bbgUAbmitRNI3ewBszVX6FQ7DC4czZsmDYOfyVt5NoR+8DA=
matrix:
  fast_finish: true
stages:
- lint
- check
- test
install:
- pip install -U tox-travis
- pip install -U codecov
jobs:
  include:
  - stage: lint
    script: tox -e lint
    python: '3.6'
script: tox -e coverage
after_success:
- codecov -e TOX_ENV
